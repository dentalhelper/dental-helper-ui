(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"CI/o":function(n,e,t){"use strict";t.r(e);var l=t("CcnG"),o=function(){return function(){}}(),i=t("pMnS"),r=t("F1ps"),a=t("Js2B"),u=t("idiG"),s=t("sELr"),d=t("g4HV"),c=t("Ip0R"),p=t("gIcY"),h=function(){function n(){this.estadoDoItem="pronto",this.exibir=!0}return n.prototype.ngOnInit=function(){},n.prototype.selecionarDente=function(n){this.denteSelecionado[0]=n,this.onChange(this.denteSelecionado),this.exibir=!1},n.prototype.writeValue=function(n){this.denteSelecionado=n},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){},n.prototype.setDisabledState=function(n){},n}(),m=l["\u0275crt"]({encapsulation:0,styles:[[".grid-container[_ngcontent-%COMP%]{margin:10px 10px 10px 0;display:grid;grid-template-columns:repeat(16,minmax(-webkit-min-content,10px));grid-template-columns:repeat(16,minmax(min-content,10px));grid-template-rows:-webkit-max-content;grid-template-rows:max-content;grid-gap:15px 5px;color:#505050;font-size:12px}.grid-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin:0}.dente[_ngcontent-%COMP%]:hover{border-bottom-left-radius:10px;border-bottom-right-radius:10px;background-color:rgba(216,216,216,.253);cursor:pointer}.active[_ngcontent-%COMP%]{background-color:rgba(58,248,89,.253);border-bottom-left-radius:10px;border-bottom-right-radius:10px;border:1px solid #145e21}img[_ngcontent-%COMP%]{width:25px}"]],data:{animation:[{type:7,name:"linha",definitions:[{type:0,name:"pronto",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => pronto",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translateY(-40px)",offset:0},offset:null},{type:6,styles:{opacity:.8,transform:"translateY(-10px)",offset:.8},offset:null},{type:6,styles:{opacity:1,transform:"translateY(0px)",offset:1},offset:null}]},timings:"300ms 0s ease-in"},options:null},{type:1,expr:"pronto => void",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:1,transform:"translateY(0px)",offset:0},offset:null},{type:6,styles:{opacity:.8,transform:"translateY(-10px)",offset:.2},offset:null},{type:6,styles:{opacity:0,transform:"translateY(-30px)",offset:1},offset:null}]},timings:"300ms 0s ease-out"},options:null}],options:{}}]}});function g(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","dente"]],[[2,"active",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.selecionarDente(n.context.$implicit.codigo)&&l),l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l["\u0275ted"](3,null,["",""]))],null,function(n,e){n(e,0,0,e.context.$implicit.codigo===e.component.denteSelecionado[0]),n(e,1,0,l["\u0275inlineInterpolate"](1,"../../assets/images/dentes/",e.context.$implicit.numero,".png"),l["\u0275inlineInterpolate"](1,"Dente: ",e.context.$implicit.numero,"")),n(e,3,0,e.context.$implicit.numero)})}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","odontograma"]],[[24,"@linha",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","grid-container"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](3,278528,null,0,c.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,e){n(e,3,0,e.component.dentes)},function(n,e){n(e,0,0,e.component.estadoDoItem)})}function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](1,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,1,0,e.component.exibir)},null)}var C=t("9uU2"),y=t("nciF"),b=t("udRp"),_=t("2Ifh"),S=t("cc2e"),x=t("eaP2"),w=t("3Njd"),P=t("Olgc"),M=t("i++M"),V=t("Fc2m"),O=t("CBFj"),N=t("g762"),E=function(){function n(n,e,t,l,o,i,r,a){this.title=n,this.location=e,this.route=t,this.formBuilder=l,this.toastService=o,this.pacienteService=i,this.orcamentoService=r,this.procedimentoService=a,this.isExibindo=!1,this.estadoDoItem="pronto",this.pt_BR=w.a,this.edicao=!1,this.procedimentos=[],this.aprovadoOpcoes=[{label:"Sim",value:!0},{label:"N\xe3o",value:!1}],this.procedimentosOptions=[],this.total=0,this.facesDoDente=M.a}return n.prototype.ngOnInit=function(){this.title.setTitle("Novo Or\xe7amento"),this.prepararFormulario(),this.carregarProcedimentos();var n=this.route.snapshot.params.codigo;n?(this.edicao=!0,this.codigoOrcamento=n,this.carregarOrcamento(n)):this.adicionarProcedimento()},n.prototype.ngAfterContentInit=function(){var n=this;this.route.fragment.subscribe(function(e){e&&(n.codigoPaciente=e,n.formulario.get("codPaciente").setValue(e))}),this.codigoPaciente&&this.pacienteService.buscarOdontograma(this.codigoPaciente).subscribe(function(e){n.dentes=e.dentes})},n.prototype.prepararFormulario=function(){this.formulario=new p.FormGroup({aprovado:new p.FormControl(!1),codPaciente:new p.FormControl(""),desconto:new p.FormControl({value:0,disabled:!0},{updateOn:"change"}),valorTotal:new p.FormControl(null,[this.validarValorPositivo]),procedimentos:this.formBuilder.array([],p.Validators.required)},{updateOn:"change"})},n.prototype.toggleDentes=function(n){n.exibir=!0!==n.exibir},n.prototype.validarValorPositivo=function(n){return n.value>=0?null:{valorPositivo:!0}},Object.defineProperty(n.prototype,"formData",{get:function(){return this.formulario.get("procedimentos")},enumerable:!0,configurable:!0}),n.prototype.submeterFormulario=function(){this.isEditando?this.atualizar():this.salvar()},n.prototype.salvar=function(){var n=this;this.orcamentoService.salvar(this.formulario.value).subscribe(function(){n.voltar(),n.toastService.exibirSucesso('"Or\xe7amento salvo."')})},n.prototype.atualizar=function(){var n=this;this.orcamentoService.atualizar(this.codigoOrcamento,this.formulario.value).subscribe(function(){n.voltar(),n.toastService.exibirSucesso("O Or\xe7amento foi atualizado.")})},n.prototype.adicionarProcedimento=function(){this.items=this.formulario.get("procedimentos"),this.items.push(this.criarItemDeProcedimento())},n.prototype.removerProcedimento=function(n){0===n&&1===this.items.length&&(this.formulario.get("desconto").disable(),this.formulario.get("desconto").setValue("")),this.items.removeAt(n),this.calcularTotal()},n.prototype.criarItemDeProcedimento=function(){return this.formBuilder.group({codigo:new p.FormControl("",p.Validators.required),valor:new p.FormControl(null),faceDente:new p.FormControl(null,p.Validators.required),codDentes:new p.FormControl([],p.Validators.required)},{updateOn:"change"})},n.prototype.carregarOrcamento=function(n){var e=this;this.orcamentoService.buscarPorCodigo(n).subscribe(function(n){e.codigoPaciente=n.codPaciente,n.procedimentos.forEach(function(){e.adicionarProcedimento()});for(var t=0;t<e.items.length;t++)e.items.at(t).get("valor").setValue(n.procedimentos[t].valor);e.formulario.patchValue(n),e.calcularTotal(),e.atualizarTituloDaPagina(),e.formulario.get("desconto").enable()})},n.prototype.carregarProcedimentos=function(){var n=this;this.procedimentoService.pesquisar("").subscribe(function(e){n.procedimentosOptions=e.map(function(n){return{value:n.codigo,label:n.nome,valor:n.valorBase}}),n.procedimentos=e})},n.prototype.aplicarValor=function(n,e){var t=this.procedimentos.find(function(e){return e.codigo===n});this.items.at(e).get("valor").setValue(t.valorBase),this.formulario.get("desconto").enable(),this.calcularTotal()},n.prototype.aplicarDesconto=function(){this.calcularTotal()},n.prototype.voltar=function(){this.location.back()},n.prototype.isValor=function(){return 0===this.total},n.prototype.calcularTotal=function(){this.total=0;for(var n=0;n<this.items.length;n++)this.total+=this.items.at(n).get("valor").value;this.formulario.get("desconto").value>=0&&(this.total-=this.formulario.get("desconto").value),this.formulario.get("valorTotal").setValue(this.total)},n.prototype.temValor=function(n){return null!==this.items.at(n).get("valor").value},n.prototype.atualizarTituloDaPagina=function(){this.title.setTitle("Editando Or\xe7amento")},Object.defineProperty(n.prototype,"isEditando",{get:function(){return this.edicao},enumerable:!0,configurable:!0}),n.prototype.isMobile=function(){return $.browser.mobile},n}(),I=t("ZYjt"),R=t("ZYCi"),k=l["\u0275crt"]({encapsulation:0,styles:[[".form[_ngcontent-%COMP%]{padding:20px}@media screen and (min-width:56.25em){.form[_ngcontent-%COMP%]   .i-container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.form[_ngcontent-%COMP%]   .i-container__resumo-box[_ngcontent-%COMP%]{margin:20px}.form[_ngcontent-%COMP%]   .i-container__resumo-box__desconto[_ngcontent-%COMP%]{padding:15px 15px 0;border:1px solid #ddd;border-radius:5px 5px 0 0}.form[_ngcontent-%COMP%]   .i-container__resumo-box__valor[_ngcontent-%COMP%]{padding:15px;border:1px solid #ddd;border-top:none;border-radius:0 0 5px 5px;background-color:#f3f3f3}.form[_ngcontent-%COMP%]   .i-container__resumo-box__valor__real[_ngcontent-%COMP%]{color:#b63616;text-align:end;float:right}.form[_ngcontent-%COMP%]   .i-container__resumo-box__valor__botao[_ngcontent-%COMP%]{padding:10px 0 0}.form[_ngcontent-%COMP%]   .i-container__add-procedimento[_ngcontent-%COMP%]{padding:20px 0 0 30px}.form[_ngcontent-%COMP%]   .i-container__item[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;margin-right:50px}.form[_ngcontent-%COMP%]   .i-container__item__procedimento[_ngcontent-%COMP%]{padding:20px 30px 0;width:400px}.form[_ngcontent-%COMP%]   .i-container__item__button-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.form[_ngcontent-%COMP%]   .i-container__item__button-group__valor[_ngcontent-%COMP%]{padding:0 30px;width:200px}.form[_ngcontent-%COMP%]   .i-container__item__button-group__dente[_ngcontent-%COMP%]{padding:0 30px;width:180px}.form[_ngcontent-%COMP%]   .i-container__item__button-group__button[_ngcontent-%COMP%]{padding-right:30px;padding-top:5px;align-self:center}}"]],data:{animation:[{type:7,name:"linha",definitions:[{type:0,name:"pronto",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => pronto",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translateX(-30px)",offset:0},offset:null},{type:6,styles:{opacity:.8,transform:"translateX(-10px)",offset:.8},offset:null},{type:6,styles:{opacity:1,transform:"translateX(0px)",offset:1},offset:null}]},timings:"300ms 0s ease-in"},options:null},{type:1,expr:"pronto => void",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:1,transform:"translateX(0px)",offset:0},offset:null},{type:6,styles:{opacity:.8,transform:"translateX(-10px)",offset:.2},offset:null},{type:6,styles:{opacity:0,transform:"translateX(30px)",offset:1},offset:null}]},timings:"300ms 0s ease-out"},options:null}],options:{}}]}});function D(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,13,"app-input-container",[["label","Dente"]],null,null,null,r.b,r.a)),l["\u0275did"](1,1163264,null,2,a.a,[],{label:[0,"label"],dropdown:[1,"dropdown"]},null),l["\u0275qud"](335544320,4,{model:0}),l["\u0275qud"](335544320,5,{control:0}),(n()(),l["\u0275eld"](4,0,null,0,3,"app-button",[["icon","fas fa-tooth"],["iconPosition","left"],["pTooltip","Selecionar dente"],["tooltipPosition","top"]],null,[[null,"botaoClicado"]],function(n,e,t){var o=!0;return"botaoClicado"===e&&(o=!1!==[n.component.toggleDentes(l["\u0275nov"](n,9))]&&o),o},u.b,u.a)),l["\u0275did"](5,114688,null,0,s.a,[],{label:[0,"label"],icon:[1,"icon"],iconPosition:[2,"iconPosition"],classes:[3,"classes"]},{botaoClicado:"botaoClicado"}),l["\u0275pad"](6,2),l["\u0275did"](7,4341760,null,0,d.Tooltip,[l.ElementRef,l.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),(n()(),l["\u0275eld"](8,0,null,0,5,"app-odontograma-select",[["formControlName","codDentes"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,v,m)),l["\u0275did"](9,114688,[["odontogama",4]],0,h,[],{dentes:[0,"dentes"],exibir:[1,"exibir"]},null),l["\u0275prd"](1024,null,p.NG_VALUE_ACCESSOR,function(n){return[n]},[h]),l["\u0275did"](11,671744,[[5,4]],0,p.FormControlName,[[3,p.ControlContainer],[8,null],[8,null],[6,p.NG_VALUE_ACCESSOR],[2,p["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,p.NgControl,null,[p.FormControlName]),l["\u0275did"](13,16384,null,0,p.NgControlStatus,[[4,p.NgControl]],null,null)],function(n,e){var t=e.component;n(e,1,0,"Dente",!0);var l=t.formulario.value.procedimentos[e.parent.context.index].codDentes[0],o=n(e,6,0,"botao--optional","botao--grande");n(e,5,0,l,"fas fa-tooth","left",o),n(e,7,0,"top","Selecionar dente"),n(e,9,0,t.dentes,t.isExibindo),n(e,11,0,"codDentes")},function(n,e){n(e,8,0,l["\u0275nov"](e,13).ngClassUntouched,l["\u0275nov"](e,13).ngClassTouched,l["\u0275nov"](e,13).ngClassPristine,l["\u0275nov"](e,13).ngClassDirty,l["\u0275nov"](e,13).ngClassValid,l["\u0275nov"](e,13).ngClassInvalid,l["\u0275nov"](e,13).ngClassPending)})}function A(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,"app-input-container",[["label","Face"]],null,null,null,r.b,r.a)),l["\u0275did"](1,1163264,null,2,a.a,[],{label:[0,"label"],dropdown:[1,"dropdown"]},null),l["\u0275qud"](335544320,6,{model:0}),l["\u0275qud"](335544320,7,{control:0}),(n()(),l["\u0275eld"](4,0,null,0,7,"p-dropdown",[["emptyFilterMessage","Face n\xe3o encontrada!"],["formControlName","faceDente"],["placeholder","Selecione"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,C.b,C.a)),l["\u0275did"](5,13877248,null,1,y.Dropdown,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef,l.NgZone],{filter:[0,"filter"],style:[1,"style"],placeholder:[2,"placeholder"],emptyFilterMessage:[3,"emptyFilterMessage"],options:[4,"options"]},null),l["\u0275qud"](603979776,8,{templates:1}),l["\u0275pod"](7,{width:0,"margin-bottom":1}),l["\u0275prd"](1024,null,p.NG_VALUE_ACCESSOR,function(n){return[n]},[y.Dropdown]),l["\u0275did"](9,671744,[[7,4]],0,p.FormControlName,[[3,p.ControlContainer],[8,null],[8,null],[6,p.NG_VALUE_ACCESSOR],[2,p["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,p.NgControl,null,[p.FormControlName]),l["\u0275did"](11,16384,null,0,p.NgControlStatus,[[4,p.NgControl]],null,null)],function(n,e){var t=e.component;n(e,1,0,"Face",!0);var l=!t.isMobile(),o=n(e,7,0,"100px","20px");n(e,5,0,l,o,"Selecione","Face n\xe3o encontrada!",t.facesDoDente),n(e,9,0,"faceDente")},function(n,e){n(e,4,0,l["\u0275nov"](e,5).filled,l["\u0275nov"](e,5).focused,l["\u0275nov"](e,11).ngClassUntouched,l["\u0275nov"](e,11).ngClassTouched,l["\u0275nov"](e,11).ngClassPristine,l["\u0275nov"](e,11).ngClassDirty,l["\u0275nov"](e,11).ngClassValid,l["\u0275nov"](e,11).ngClassInvalid,l["\u0275nov"](e,11).ngClassPending)})}function F(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,"app-input-container",[["label","Valor"]],null,null,null,r.b,r.a)),l["\u0275did"](1,1163264,null,2,a.a,[],{label:[0,"label"],dropdown:[1,"dropdown"]},null),l["\u0275qud"](335544320,9,{model:0}),l["\u0275qud"](335544320,10,{control:0}),(n()(),l["\u0275eld"](4,0,null,0,7,"input",[["class","i-container__input"],["currencyMask",""],["formControlName","valor"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"blur"],[null,"click"],[null,"cut"],[null,"input"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,i=n.component;return"blur"===e&&(o=!1!==l["\u0275nov"](n,5).handleBlur(t)&&o),"click"===e&&(o=!1!==l["\u0275nov"](n,5).handleClick(t)&&o),"cut"===e&&(o=!1!==l["\u0275nov"](n,5).handleCut(t)&&o),"input"===e&&(o=!1!==l["\u0275nov"](n,5).handleInput(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,5).handleKeydown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,5).handleKeypress(t)&&o),"keyup"===e&&(o=!1!==l["\u0275nov"](n,5).handleKeyup(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,5).handlePaste(t)&&o),"input"===e&&(o=!1!==l["\u0275nov"](n,6)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,6).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,6)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,6)._compositionEnd(t.target.value)&&o),"keyup"===e&&(o=!1!==i.calcularTotal()&&o),o},null,null)),l["\u0275did"](5,4538368,null,0,b.CurrencyMaskDirective,[[2,_.CURRENCY_MASK_CONFIG],l.ElementRef,l.KeyValueDiffers],null,null),l["\u0275did"](6,16384,null,0,p.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,p.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,p.NG_VALIDATORS,function(n){return[n]},[b.CurrencyMaskDirective]),l["\u0275prd"](1024,null,p.NG_VALUE_ACCESSOR,function(n,e){return[n,e]},[b.CurrencyMaskDirective,p.DefaultValueAccessor]),l["\u0275did"](9,671744,[[10,4]],0,p.FormControlName,[[3,p.ControlContainer],[6,p.NG_VALIDATORS],[8,null],[6,p.NG_VALUE_ACCESSOR],[2,p["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,p.NgControl,null,[p.FormControlName]),l["\u0275did"](11,16384,null,0,p.NgControlStatus,[[4,p.NgControl]],null,null)],function(n,e){n(e,1,0,"Valor",!0),n(e,5,0),n(e,9,0,"valor")},function(n,e){n(e,4,0,l["\u0275nov"](e,11).ngClassUntouched,l["\u0275nov"](e,11).ngClassTouched,l["\u0275nov"](e,11).ngClassPristine,l["\u0275nov"](e,11).ngClassDirty,l["\u0275nov"](e,11).ngClassValid,l["\u0275nov"](e,11).ngClassInvalid,l["\u0275nov"](e,11).ngClassPending)})}function T(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,35,"div",[["class","i-container__item"],["formArrayName","procedimentos"]],[[24,"@linha",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l["\u0275did"](1,212992,null,0,p.FormArrayName,[[3,p.ControlContainer],[8,null],[8,null]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,p.ControlContainer,null,[p.FormArrayName]),l["\u0275did"](3,16384,null,0,p.NgControlStatusGroup,[[4,p.ControlContainer]],null,null),(n()(),l["\u0275eld"](4,0,null,null,31,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l["\u0275did"](5,212992,null,0,p.FormGroupName,[[3,p.ControlContainer],[8,null],[8,null]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,p.ControlContainer,null,[p.FormGroupName]),l["\u0275did"](7,16384,null,0,p.NgControlStatusGroup,[[4,p.ControlContainer]],null,null),(n()(),l["\u0275eld"](8,0,null,null,12,"div",[["class","i-container__item__procedimento"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,11,"app-input-container",[["errorMessage","Procedimento \xe9 obrigat\xf3rio."],["label","Procedimento"]],null,null,null,r.b,r.a)),l["\u0275did"](10,1163264,null,2,a.a,[],{label:[0,"label"],errorMessage:[1,"errorMessage"],dropdown:[2,"dropdown"]},null),l["\u0275qud"](335544320,1,{model:0}),l["\u0275qud"](335544320,2,{control:0}),(n()(),l["\u0275eld"](13,0,null,0,7,"p-dropdown",[["emptyFilterMessage","Procedimento n\xe3o encontrado!"],["formControlName","codigo"],["placeholder","Selecione"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onChange"]],function(n,e,t){var l=!0;return"onChange"===e&&(l=!1!==n.component.aplicarValor(t.value,n.context.index)&&l),l},C.b,C.a)),l["\u0275did"](14,13877248,null,1,y.Dropdown,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef,l.NgZone],{filter:[0,"filter"],style:[1,"style"],placeholder:[2,"placeholder"],emptyFilterMessage:[3,"emptyFilterMessage"],options:[4,"options"]},{onChange:"onChange"}),l["\u0275qud"](603979776,3,{templates:1}),l["\u0275pod"](16,{width:0,"margin-bottom":1}),l["\u0275prd"](1024,null,p.NG_VALUE_ACCESSOR,function(n){return[n]},[y.Dropdown]),l["\u0275did"](18,671744,[[2,4]],0,p.FormControlName,[[3,p.ControlContainer],[8,null],[8,null],[6,p.NG_VALUE_ACCESSOR],[2,p["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,p.NgControl,null,[p.FormControlName]),l["\u0275did"](20,16384,null,0,p.NgControlStatus,[[4,p.NgControl]],null,null),(n()(),l["\u0275eld"](21,0,null,null,14,"div",[["class","i-container__item__button-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](22,0,null,null,2,"div",[["class","i-container__item__button-group__dente"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,D)),l["\u0275did"](24,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](25,0,null,null,2,"div",[["class","i-container__item__button-group__valor"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,A)),l["\u0275did"](27,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](28,0,null,null,2,"div",[["class","i-container__item__button-group__valor"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,F)),l["\u0275did"](30,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](31,0,null,null,4,"div",[["class","i-container__item__button-group__button"]],null,null,null,null,null)),(n()(),l["\u0275eld"](32,0,null,null,3,"app-button",[["icon","fas fa-times"],["iconPosition","right"],["pTooltip","Remover"],["tooltipPosition","top"]],null,[[null,"botaoClicado"]],function(n,e,t){var l=!0;return"botaoClicado"===e&&(l=!1!==[n.component.removerProcedimento(n.context.index)]&&l),l},u.b,u.a)),l["\u0275did"](33,114688,null,0,s.a,[],{icon:[0,"icon"],iconPosition:[1,"iconPosition"],classes:[2,"classes"]},{botaoClicado:"botaoClicado"}),l["\u0275pad"](34,2),l["\u0275did"](35,4341760,null,0,d.Tooltip,[l.ElementRef,l.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null)],function(n,e){var t=e.component;n(e,1,0,"procedimentos"),n(e,5,0,e.context.index),n(e,10,0,"Procedimento","Procedimento \xe9 obrigat\xf3rio.",!0);var l=!t.isMobile(),o=n(e,16,0,"100%","20px");n(e,14,0,l,o,"Selecione","Procedimento n\xe3o encontrado!",t.procedimentosOptions),n(e,18,0,"codigo"),n(e,24,0,t.temValor(e.context.index)),n(e,27,0,t.temValor(e.context.index)),n(e,30,0,t.temValor(e.context.index));var i=n(e,34,0,"botao--danger","botao--grande");n(e,33,0,"fas fa-times","right",i),n(e,35,0,"top","Remover")},function(n,e){n(e,0,0,e.component.estadoDoItem,l["\u0275nov"](e,3).ngClassUntouched,l["\u0275nov"](e,3).ngClassTouched,l["\u0275nov"](e,3).ngClassPristine,l["\u0275nov"](e,3).ngClassDirty,l["\u0275nov"](e,3).ngClassValid,l["\u0275nov"](e,3).ngClassInvalid,l["\u0275nov"](e,3).ngClassPending),n(e,4,0,l["\u0275nov"](e,7).ngClassUntouched,l["\u0275nov"](e,7).ngClassTouched,l["\u0275nov"](e,7).ngClassPristine,l["\u0275nov"](e,7).ngClassDirty,l["\u0275nov"](e,7).ngClassValid,l["\u0275nov"](e,7).ngClassInvalid,l["\u0275nov"](e,7).ngClassPending),n(e,13,0,l["\u0275nov"](e,14).filled,l["\u0275nov"](e,14).focused,l["\u0275nov"](e,20).ngClassUntouched,l["\u0275nov"](e,20).ngClassTouched,l["\u0275nov"](e,20).ngClassPristine,l["\u0275nov"](e,20).ngClassDirty,l["\u0275nov"](e,20).ngClassValid,l["\u0275nov"](e,20).ngClassInvalid,l["\u0275nov"](e,20).ngClassPending)})}function L(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,"app-input-container",[["label","Aprovar or\xe7amento"]],null,null,null,r.b,r.a)),l["\u0275did"](1,1163264,null,2,a.a,[],{label:[0,"label"],dropdown:[1,"dropdown"]},null),l["\u0275qud"](335544320,11,{model:0}),l["\u0275qud"](335544320,12,{control:0}),(n()(),l["\u0275eld"](4,0,null,0,7,"p-selectButton",[["formControlName","aprovado"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,S.b,S.a)),l["\u0275did"](5,49152,null,1,x.SelectButton,[l.ChangeDetectorRef],{style:[0,"style"],options:[1,"options"]},null),l["\u0275qud"](335544320,13,{itemTemplate:0}),l["\u0275pod"](7,{"margin-bottom":0}),l["\u0275prd"](1024,null,p.NG_VALUE_ACCESSOR,function(n){return[n]},[x.SelectButton]),l["\u0275did"](9,671744,[[12,4]],0,p.FormControlName,[[3,p.ControlContainer],[8,null],[8,null],[6,p.NG_VALUE_ACCESSOR],[2,p["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,p.NgControl,null,[p.FormControlName]),l["\u0275did"](11,16384,null,0,p.NgControlStatus,[[4,p.NgControl]],null,null)],function(n,e){var t=e.component;n(e,1,0,"Aprovar or\xe7amento",!0);var l=n(e,7,0,"10px");n(e,5,0,l,t.aprovadoOpcoes),n(e,9,0,"aprovado")},function(n,e){n(e,4,0,l["\u0275nov"](e,11).ngClassUntouched,l["\u0275nov"](e,11).ngClassTouched,l["\u0275nov"](e,11).ngClassPristine,l["\u0275nov"](e,11).ngClassDirty,l["\u0275nov"](e,11).ngClassValid,l["\u0275nov"](e,11).ngClassInvalid,l["\u0275nov"](e,11).ngClassPending)})}function U(n){return l["\u0275vid"](0,[l["\u0275pid"](0,c.CurrencyPipe,[l.LOCALE_ID]),(n()(),l["\u0275eld"](1,0,null,null,47,"div",[["class","content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,6,"div",[["class","header"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"h1",[["class","header__titulo"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,["","Or\xe7amento"])),(n()(),l["\u0275eld"](5,0,null,null,1,"button",[["class","header__botao-voltar header__botao-voltar--float"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.voltar()&&l),l},null,null)),(n()(),l["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-undo-alt"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,1,"button",[["class","header__botao-voltar header__botao-voltar--header"],["id","voltar"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.voltar()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" Cancelar "])),(n()(),l["\u0275eld"](9,0,null,null,39,"div",[["class","form"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,38,"form",[["class","i-container"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,t){var o=!0;return"submit"===e&&(o=!1!==l["\u0275nov"](n,12).onSubmit(t)&&o),"reset"===e&&(o=!1!==l["\u0275nov"](n,12).onReset()&&o),o},null,null)),l["\u0275did"](11,16384,null,0,p["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](12,540672,null,0,p.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,p.ControlContainer,null,[p.FormGroupDirective]),l["\u0275did"](14,16384,null,0,p.NgControlStatusGroup,[[4,p.ControlContainer]],null,null),(n()(),l["\u0275eld"](15,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,T)),l["\u0275did"](17,278528,null,0,c.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](18,0,null,null,3,"div",[["class","i-container__add-procedimento"]],null,null,null,null,null)),(n()(),l["\u0275eld"](19,0,null,null,2,"app-button",[["icon","fas fa-plus"],["iconPosition","right"],["label","Adicionar procedimento"]],null,[[null,"botaoClicado"]],function(n,e,t){var l=!0;return"botaoClicado"===e&&(l=!1!==[n.component.adicionarProcedimento()]&&l),l},u.b,u.a)),l["\u0275did"](20,114688,null,0,s.a,[],{label:[0,"label"],icon:[1,"icon"],iconPosition:[2,"iconPosition"],classes:[3,"classes"]},{botaoClicado:"botaoClicado"}),l["\u0275pad"](21,2),(n()(),l["\u0275eld"](22,0,null,null,26,"div",[["class","i-container__resumo-box"]],null,null,null,null,null)),(n()(),l["\u0275eld"](23,0,null,null,14,"div",[["class","i-container__resumo-box__desconto"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,L)),l["\u0275did"](25,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](26,0,null,null,11,"app-input-container",[["for","desconto"],["label","Desconto"]],null,null,null,r.b,r.a)),l["\u0275did"](27,1163264,null,2,a.a,[],{label:[0,"label"],for:[1,"for"],dropdown:[2,"dropdown"]},null),l["\u0275qud"](335544320,14,{model:0}),l["\u0275qud"](335544320,15,{control:0}),(n()(),l["\u0275eld"](30,0,null,0,7,"input",[["class","i-container__input"],["currencyMask",""],["formControlName","desconto"],["id","desconto"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"blur"],[null,"click"],[null,"cut"],[null,"input"],[null,"keydown"],[null,"keypress"],[null,"paste"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var o=!0,i=n.component;return"blur"===e&&(o=!1!==l["\u0275nov"](n,31).handleBlur(t)&&o),"click"===e&&(o=!1!==l["\u0275nov"](n,31).handleClick(t)&&o),"cut"===e&&(o=!1!==l["\u0275nov"](n,31).handleCut(t)&&o),"input"===e&&(o=!1!==l["\u0275nov"](n,31).handleInput(t)&&o),"keydown"===e&&(o=!1!==l["\u0275nov"](n,31).handleKeydown(t)&&o),"keypress"===e&&(o=!1!==l["\u0275nov"](n,31).handleKeypress(t)&&o),"keyup"===e&&(o=!1!==l["\u0275nov"](n,31).handleKeyup(t)&&o),"paste"===e&&(o=!1!==l["\u0275nov"](n,31).handlePaste(t)&&o),"input"===e&&(o=!1!==l["\u0275nov"](n,32)._handleInput(t.target.value)&&o),"blur"===e&&(o=!1!==l["\u0275nov"](n,32).onTouched()&&o),"compositionstart"===e&&(o=!1!==l["\u0275nov"](n,32)._compositionStart()&&o),"compositionend"===e&&(o=!1!==l["\u0275nov"](n,32)._compositionEnd(t.target.value)&&o),"keyup"===e&&(o=!1!==i.aplicarDesconto()&&o),"blur"===e&&(o=!1!==i.aplicarDesconto()&&o),o},null,null)),l["\u0275did"](31,4538368,null,0,b.CurrencyMaskDirective,[[2,_.CURRENCY_MASK_CONFIG],l.ElementRef,l.KeyValueDiffers],null,null),l["\u0275did"](32,16384,null,0,p.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,p.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,p.NG_VALIDATORS,function(n){return[n]},[b.CurrencyMaskDirective]),l["\u0275prd"](1024,null,p.NG_VALUE_ACCESSOR,function(n,e){return[n,e]},[b.CurrencyMaskDirective,p.DefaultValueAccessor]),l["\u0275did"](35,671744,[[15,4]],0,p.FormControlName,[[3,p.ControlContainer],[6,p.NG_VALIDATORS],[8,null],[6,p.NG_VALUE_ACCESSOR],[2,p["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,p.NgControl,null,[p.FormControlName]),l["\u0275did"](37,16384,null,0,p.NgControlStatus,[[4,p.NgControl]],null,null),(n()(),l["\u0275eld"](38,0,null,null,10,"div",[["class","i-container__resumo-box__valor"]],null,null,null,null,null)),(n()(),l["\u0275eld"](39,0,null,null,4,"h1",[["style","color: #686b6d"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Total: "])),(n()(),l["\u0275eld"](41,0,null,null,2,"span",[["class","i-container__resumo-box__valor__real"]],null,null,null,null,null)),(n()(),l["\u0275ted"](42,null,["",""])),l["\u0275ppd"](43,3),(n()(),l["\u0275eld"](44,0,null,null,4,"div",[["class","i-container__resumo-box__valor__botao"]],null,null,null,null,null)),(n()(),l["\u0275eld"](45,0,null,null,3,"app-button",[["icon","fas fa-hdd"],["iconPosition","right"],["label","Salvar Or\xe7amento"],["tooltipPosition","bottom"]],null,[[null,"botaoClicado"]],function(n,e,t){var l=!0;return"botaoClicado"===e&&(l=!1!==[n.component.submeterFormulario()]&&l),l},u.b,u.a)),l["\u0275did"](46,114688,null,0,s.a,[],{label:[0,"label"],icon:[1,"icon"],iconPosition:[2,"iconPosition"],classes:[3,"classes"],desativar:[4,"desativar"]},{botaoClicado:"botaoClicado"}),l["\u0275pad"](47,2),l["\u0275did"](48,4341760,null,0,d.Tooltip,[l.ElementRef,l.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null)],function(n,e){var t=e.component;n(e,12,0,t.formulario),n(e,17,0,t.formData.controls);var l=n(e,21,0,"botao--padrao",t.isMobile()?"botao--full":"botao--grande");n(e,20,0,"Adicionar procedimento","fas fa-plus","right",l),n(e,25,0,!t.isEditando),n(e,27,0,"Desconto","desconto",!0),n(e,31,0),n(e,35,0,"desconto");var o=n(e,47,0,"botao--success",t.isMobile()?"botao--full":"botao--grande");n(e,46,0,"Salvar Or\xe7amento","fas fa-hdd","right",o,t.formulario.invalid),n(e,48,0,"bottom",t.formulario.invalid?"Or\xe7amento incompleto":"")},function(n,e){var t=e.component;n(e,4,0,t.isEditando?"Editando ":"Cadastro de "),n(e,10,0,l["\u0275nov"](e,14).ngClassUntouched,l["\u0275nov"](e,14).ngClassTouched,l["\u0275nov"](e,14).ngClassPristine,l["\u0275nov"](e,14).ngClassDirty,l["\u0275nov"](e,14).ngClassValid,l["\u0275nov"](e,14).ngClassInvalid,l["\u0275nov"](e,14).ngClassPending),n(e,30,0,l["\u0275nov"](e,37).ngClassUntouched,l["\u0275nov"](e,37).ngClassTouched,l["\u0275nov"](e,37).ngClassPristine,l["\u0275nov"](e,37).ngClassDirty,l["\u0275nov"](e,37).ngClassValid,l["\u0275nov"](e,37).ngClassInvalid,l["\u0275nov"](e,37).ngClassPending);var o=l["\u0275unv"](e,42,0,n(e,43,0,l["\u0275nov"](e,0),t.total,"BRL","symbol"));n(e,42,0,o)})}function G(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-orcamento-cadastro",[],null,null,null,U,k)),l["\u0275did"](1,1163264,null,0,E,[I.Title,c.Location,R.a,p.FormBuilder,P.a,V.a,O.a,N.a],null,null)],function(n,e){n(e,1,0)},null)}var K=l["\u0275ccf"]("app-orcamento-cadastro",E,G,{},{},[]),B=t("6uYy"),H=t("Hf/j"),j=t("PCNd"),q=t("7LN8"),Y=t("Fzqc"),z=t("dWZg"),Z=t("qAlS"),W=t("VSng"),X=t("KB/w"),J=t("UoT3");t.d(e,"OrcamentosModuleNgFactory",function(){return Q});var Q=l["\u0275cmf"](o,[],function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,K]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,c.NgLocalization,c.NgLocaleLocalization,[l.LOCALE_ID,[2,c["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,p.FormBuilder,p.FormBuilder,[]),l["\u0275mpd"](4608,p["\u0275angular_packages_forms_forms_j"],p["\u0275angular_packages_forms_forms_j"],[]),l["\u0275mpd"](5120,B.g,B.f,[B.a,B.d]),l["\u0275mpd"](4608,B.i,B.i,[B.g]),l["\u0275mpd"](1073742336,c.CommonModule,c.CommonModule,[]),l["\u0275mpd"](1073742336,R.o,R.o,[[2,R.u],[2,R.k]]),l["\u0275mpd"](1073742336,H.f,H.f,[]),l["\u0275mpd"](1073742336,p["\u0275angular_packages_forms_forms_bc"],p["\u0275angular_packages_forms_forms_bc"],[]),l["\u0275mpd"](1073742336,p.ReactiveFormsModule,p.ReactiveFormsModule,[]),l["\u0275mpd"](1073742336,j.a,j.a,[]),l["\u0275mpd"](1073742336,d.TooltipModule,d.TooltipModule,[]),l["\u0275mpd"](1073742336,q.SharedModule,q.SharedModule,[]),l["\u0275mpd"](1073742336,Y.a,Y.a,[]),l["\u0275mpd"](1073742336,z.b,z.b,[]),l["\u0275mpd"](1073742336,Z.ScrollingModule,Z.ScrollingModule,[]),l["\u0275mpd"](1073742336,y.DropdownModule,y.DropdownModule,[]),l["\u0275mpd"](1073742336,W.ButtonModule,W.ButtonModule,[]),l["\u0275mpd"](1073742336,X.CalendarModule,X.CalendarModule,[]),l["\u0275mpd"](1073742336,p.FormsModule,p.FormsModule,[]),l["\u0275mpd"](1073742336,J.CurrencyMaskModule,J.CurrencyMaskModule,[]),l["\u0275mpd"](1073742336,x.SelectButtonModule,x.SelectButtonModule,[]),l["\u0275mpd"](1073742336,B.e,B.e,[]),l["\u0275mpd"](1073742336,o,o,[]),l["\u0275mpd"](256,B.a,B.h,[]),l["\u0275mpd"](256,B.d,void 0,[]),l["\u0275mpd"](1024,R.i,function(){return[[{path:"novo",component:E},{path:":codigo/edit",component:E}]]},[])])})},UoT3:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("Ip0R"),o=t("gIcY"),i=t("CcnG"),r=t("udRp");e.CurrencyMaskModule=function(){function n(){}return n.decorators=[{type:i.NgModule,args:[{imports:[l.CommonModule,o.FormsModule],declarations:[r.CurrencyMaskDirective],exports:[r.CurrencyMaskDirective]}]}],n}()},bL53:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("y61n");e.InputHandler=function(){function n(n,e){this.inputService=new l.InputService(n,e),this.htmlInputElement=n}return n.prototype.handleClick=function(n,e){0!=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)||isNaN(this.inputService.value)||this.inputService.fixCursorPosition(e)},n.prototype.handleCut=function(n){var e=this;this.isReadOnly()||setTimeout(function(){e.inputService.updateFieldValue(),e.setValue(e.inputService.value),e.onModelChange(e.inputService.value)},0)},n.prototype.handleInput=function(n){if(!this.isReadOnly()){var e=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),t=this.inputService.rawValue.length,l=this.inputService.inputSelection.selectionEnd,o=this.inputService.getRawValueWithoutSuffixEndPosition(),i=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,l==o&&1==Math.abs(t-i)||0==i){if(t<i&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),t>i)switch(e){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(e).match(/\d/))return;this.inputService.addNumber(e)}this.setCursorPosition(n),this.onModelChange(this.inputService.value)}else this.setCursorPosition(n)}},n.prototype.handleKeydown=function(n){if(!this.isReadOnly()){var e=n.which||n.charCode||n.keyCode;if(8==e||46==e||63272==e){n.preventDefault();var t=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);t!=this.inputService.rawValue.length&&0!=this.inputService.value||(this.setValue(null),this.onModelChange(this.inputService.value)),0!=t||isNaN(this.inputService.value)||(this.inputService.removeNumber(e),this.onModelChange(this.inputService.value)),8!==e&&46!==e||0==t||isNaN(this.inputService.value)||(this.inputService.removeNumber(e),this.onModelChange(this.inputService.value))}}},n.prototype.handleKeypress=function(n){if(!this.isReadOnly()){var e=n.which||n.charCode||n.keyCode;if(null!=e&&-1==[9,13].indexOf(e)&&!this.isArrowEndHomeKeyInFirefox(n)){switch(e){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(e).match(/\d/)||this.inputService.addNumber(e)}n.preventDefault(),this.onModelChange(this.inputService.value)}}},n.prototype.handleKeyup=function(n){this.inputService.fixCursorPosition()},n.prototype.handlePaste=function(n){var e=this;this.isReadOnly()||setTimeout(function(){e.inputService.updateFieldValue(),e.setValue(e.inputService.value),e.onModelChange(e.inputService.value)},1)},n.prototype.updateOptions=function(n){this.inputService.updateOptions(n)},n.prototype.getOnModelChange=function(){return this.onModelChange},n.prototype.setOnModelChange=function(n){this.onModelChange=n},n.prototype.getOnModelTouched=function(){return this.onModelTouched},n.prototype.setOnModelTouched=function(n){this.onModelTouched=n},n.prototype.setValue=function(n){this.inputService.value=n},n.prototype.getNewKeyCode=function(n,e){if(n.length>e.length)return null;for(var t=0;t<e.length;t++)if(n.length==t||n[t]!=e[t])return e.charCodeAt(t)},n.prototype.isArrowEndHomeKeyInFirefox=function(n){return-1!=[35,36,37,38,39,40].indexOf(n.keyCode)&&(null==n.charCode||0==n.charCode)},n.prototype.isReadOnly=function(){return this.htmlInputElement&&this.htmlInputElement.readOnly},n.prototype.setCursorPosition=function(n){var e=this.inputService.getRawValueWithoutSuffixEndPosition();setTimeout(function(){n.target.setSelectionRange(e,e)},0)},n}()},ehNZ:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputManager=function(){function n(n){this.htmlInputElement=n}return n.prototype.setCursorAt=function(n){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(n,n);else if(this.htmlInputElement.createTextRange){var e=this.htmlInputElement.createTextRange();e.collapse(!0),e.moveEnd("character",n),e.moveStart("character",n),e.select()}},n.prototype.updateValueAndCursor=function(n,e,t){this.rawValue=n,this.setCursorAt(t-=e-n.length)},Object.defineProperty(n.prototype,"canInputMoreNumbers",{get:function(){var n=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),e=this.inputSelection.selectionStart,t=this.inputSelection.selectionEnd,l=!(e==t||!this.htmlInputElement.value.substring(e,t).match(/\d/)),o="0"==this.htmlInputElement.value.substring(0,1);return n||l||o},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputSelection",{get:function(){var n=0,e=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)n=this.htmlInputElement.selectionStart,e=this.htmlInputElement.selectionEnd;else{var t=document.getSelection().baseNode;if(t&&t.firstChild==this.htmlInputElement){var l=this.htmlInputElement.value.length,o=this.htmlInputElement.value.replace(/\r\n/g,"\n"),i=this.htmlInputElement.createTextRange(),r=this.htmlInputElement.createTextRange();r.collapse(!1),i.compareEndPoints("StartToEnd",r)>-1?n=e=l:(n=-i.moveStart("character",-l),n+=o.slice(0,n).split("\n").length-1,i.compareEndPoints("EndToEnd",r)>-1?e=l:(e=-i.moveEnd("character",-l),e+=o.slice(0,e).split("\n").length-1))}}return{selectionStart:n,selectionEnd:e}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rawValue",{get:function(){return this.htmlInputElement&&this.htmlInputElement.value},set:function(n){this._storedRawValue=n,this.htmlInputElement&&(this.htmlInputElement.value=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"storedRawValue",{get:function(){return this._storedRawValue},enumerable:!0,configurable:!0}),n}()},udRp:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("CcnG"),o=t("gIcY"),i=(t("2Ifh"),t("bL53"));e.CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR={provide:o.NG_VALUE_ACCESSOR,useExisting:l.forwardRef(function(){return r}),multi:!0};var r=function(){function n(n,e,t){this.currencyMaskConfig=n,this.elementRef=e,this.keyValueDiffers=t,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},n&&(this.optionsTemplate=n),this.keyValueDiffer=t.find({}).create()}return n.prototype.ngAfterViewInit=function(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align},n.prototype.ngDoCheck=function(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))},n.prototype.ngOnInit=function(){this.inputHandler=new i.InputHandler(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))},n.prototype.handleBlur=function(n){this.inputHandler.getOnModelTouched().apply(n)},n.prototype.handleClick=function(n){this.inputHandler.handleClick(n,this.isChromeAndroid())},n.prototype.handleCut=function(n){this.isChromeAndroid()||this.inputHandler.handleCut(n)},n.prototype.handleInput=function(n){this.isChromeAndroid()&&this.inputHandler.handleInput(n)},n.prototype.handleKeydown=function(n){this.isChromeAndroid()||this.inputHandler.handleKeydown(n)},n.prototype.handleKeypress=function(n){this.isChromeAndroid()||this.inputHandler.handleKeypress(n)},n.prototype.handleKeyup=function(n){this.isChromeAndroid()||this.inputHandler.handleKeyup(n)},n.prototype.handlePaste=function(n){this.isChromeAndroid()||this.inputHandler.handlePaste(n)},n.prototype.isChromeAndroid=function(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)},n.prototype.registerOnChange=function(n){this.inputHandler.setOnModelChange(n)},n.prototype.registerOnTouched=function(n){this.inputHandler.setOnModelTouched(n)},n.prototype.setDisabledState=function(n){this.elementRef.nativeElement.disabled=n},n.prototype.validate=function(n){var e={};return n.value>this.max&&(e.max=!0),n.value<this.min&&(e.min=!0),e!={}?e:null},n.prototype.writeValue=function(n){this.inputHandler.setValue(n)},n.decorators=[{type:l.Directive,args:[{selector:"[currencyMask]",providers:[e.CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR,{provide:o.NG_VALIDATORS,useExisting:n,multi:!0}]}]}],n.propDecorators={max:[{type:l.Input}],min:[{type:l.Input}],options:[{type:l.Input}],handleBlur:[{type:l.HostListener,args:["blur",["$event"]]}],handleClick:[{type:l.HostListener,args:["click",["$event"]]}],handleCut:[{type:l.HostListener,args:["cut",["$event"]]}],handleInput:[{type:l.HostListener,args:["input",["$event"]]}],handleKeydown:[{type:l.HostListener,args:["keydown",["$event"]]}],handleKeypress:[{type:l.HostListener,args:["keypress",["$event"]]}],handleKeyup:[{type:l.HostListener,args:["keyup",["$event"]]}],handlePaste:[{type:l.HostListener,args:["paste",["$event"]]}]},n}();e.CurrencyMaskDirective=r},y61n:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("ehNZ");e.InputService=function(){function n(n,e){this.htmlInputElement=n,this.options=e,this.inputManager=new l.InputManager(n)}return n.prototype.addNumber=function(n){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));var e=String.fromCharCode(n),t=this.inputSelection.selectionStart,l=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,t)+e+this.rawValue.substring(l,this.rawValue.length),this.updateFieldValue(t+1)},n.prototype.applyMask=function(n,e){var t=this.options,l=t.allowNegative,o=t.decimal,i=t.precision,r=t.prefix,a=t.suffix,u=t.thousands,s=(e=n?new Number(e).toFixed(i):e).replace(/[^0-9]/g,"");if(!s)return"";var d=s.slice(0,s.length-i).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,u);""==d&&(d="0");var c=d,p=s.slice(s.length-i);i>0&&(c+=o+(p="0".repeat(i-p.length)+p));var h=0==parseInt(d)&&(0==parseInt(p)||""==p);return(e.indexOf("-")>-1&&l&&!h?"-":"")+r+c+a},n.prototype.clearMask=function(n){if(null==n||""==n)return null;var e=n.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(e=e.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(e=e.replace(this.options.decimal,".")),parseFloat(e)},n.prototype.changeToNegative=function(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){var n=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(n+1)}},n.prototype.changeToPositive=function(){var n=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(n-1)},n.prototype.fixCursorPosition=function(n){var e=this.inputSelection.selectionStart;e>this.getRawValueWithoutSuffixEndPosition()||n?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):e<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())},n.prototype.getRawValueWithoutSuffixEndPosition=function(){return this.rawValue.length-this.options.suffix.length},n.prototype.getRawValueWithoutPrefixStartPosition=function(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length},n.prototype.removeNumber=function(n){var e=this.options,t=e.decimal,l=e.thousands,o=this.inputSelection.selectionEnd,i=this.inputSelection.selectionStart;i>this.rawValue.length-this.options.suffix.length&&(o=this.rawValue.length-this.options.suffix.length,i=this.rawValue.length-this.options.suffix.length),o==i&&(46!=n&&63272!=n||!/^\d+$/.test(this.rawValue.substring(i,o+1))||(o+=1),46!=n&&63272!=n||this.rawValue.substring(i,o+1)!=t&&this.rawValue.substring(i,o+1)!=l||(o+=2,i+=1),8==n&&/^\d+$/.test(this.rawValue.substring(i-1,o))&&(i-=1),8!=n||this.rawValue.substring(i-1,o)!=t&&this.rawValue.substring(i-1,o)!=l||(i-=2,o-=1)),this.rawValue=this.rawValue.substring(0,i)+this.rawValue.substring(o,this.rawValue.length),this.updateFieldValue(i)},n.prototype.updateFieldValue=function(n){var e=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(e,this.rawValue.length,n=null==n?this.rawValue.length:n)},n.prototype.updateOptions=function(n){var e=this.value;this.options=n,this.value=e},Object.defineProperty(n.prototype,"canInputMoreNumbers",{get:function(){return this.inputManager.canInputMoreNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputSelection",{get:function(){return this.inputManager.inputSelection},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rawValue",{get:function(){return this.inputManager.rawValue},set:function(n){this.inputManager.rawValue=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"storedRawValue",{get:function(){return this.inputManager.storedRawValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.clearMask(this.rawValue)},set:function(n){this.rawValue=this.applyMask(!0,""+n)},enumerable:!0,configurable:!0}),n}()}}]);